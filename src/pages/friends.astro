---
import { cn } from '~/lib/utils'
import { FRIENDS_LIST, FRIENDS_CONFIG } from '~/config'
import Layout from '~/layouts/Layout.astro'
import SectionDivider from '~/components/base/SectionDivider.astro'
import Comments from '~/components/posts/base/Comments.astro'

const { title, description, introduce } = FRIENDS_CONFIG
---

<Layout title={title} description={description}>
  <div class="relative z-[1] py-8 pb-10">
    <!-- 标题区 -->
    <div class="px-6 sm:px-8">
      <h1
        class="tracking-tight text-5xl bg-gradient-to-r from-primary to-primary/70
               bg-clip-text text-transparent pb-1.5"
      >
        {title}
      </h1>
      <p class="pro text-muted-foreground mt-2">{introduce}</p>
    </div>

    <!-- 友链列表 -->
    <div class="mt-8 grid grid-cols-1 fade-up">
      {FRIENDS_LIST.map((friend, index) => (
        <div>
          <div
            class="group relative hover:bg-muted/30 dark:hover:bg-muted/30
                   transition-colors duration-300 px-8 py-4"
          >
            <div class="flex items-center gap-4">
              <img
                src={friend.avatar}
                alt={friend.name}
                class="w-10 h-10 rounded-lg"
              />
              <a
                href={friend.url}
                target="_blank"
                rel="noopener noreferrer"
                class="font-semibold font-serif text-xl
                       hover:text-primary transition-colors"
              >
                {friend.name}
              </a>
            </div>
            <p class="mt-2 pr-0 sm:pr-14 text-black dark:text-white font-bold">
              描述/Description: <span class="mt-2 pr-0 sm:pr-14 font-normal text-muted-foreground">{friend.description}</span>
            </p>
            <div class="mt-4 flex gap-4 text-sm text-zinc-500">
              <a
                href={friend.url}
                target="_blank"
                class="flex items-center gap-1 hover:text-zinc-600
                       dark:hover:text-zinc-100"
              >
                <div class="flex items-center flex-wrap text-sm text-zinc-500">
                <div class="flex items-center gap-1 mr-4">
                    <span class="icon-[mdi--user] size-5" />
                    <span>{friend.author}</span>
                </div>
                <div class="flex items-center gap-1">
                    <span class="icon-[mdi--web] size-5" />
                    <span>访问站点</span>
                </div>
                </div>
              </a>
            </div>
          </div>
          <SectionDivider/>
        </div>
      ))}
    </div>

    <!-- 交换友链区域 -->
    <div class="mt-12 px-6 sm:px-8">
        <h2 class="text-2xl font-semibold mb-2">想和我交换友链吗？</h2>
        <p class="text-muted-foreground mb-4">
          提供以下信息，我会在 1–2 天内添加：
        </p>
        <ul class="list-disc list-inside text-sm text-muted-foreground space-y-1">
          <li>站点名称</li>
          <li>站点作者</li>
          <li>站点链接 (URL)</li>
          <li>描述</li>
          <li>头像图片链接 (建议 48×48px)</li>
        </ul>
        <p class="mt-4 text-sm">
            邮件：<a
            href="mailto:refs@aliyun.com"
          >
            refs@aliyun.com
          </a>
        </p>
        <p class="mt-1 text-sm">
          或在下方评论区域提交。
        </p>
        <div class="mt-8 text-sm leading-relaxed text-black dark:text-white font-regular">
            <!-- 信息表格 -->
            <p class="font-semibold text-lg mb-4">我的友链信息（欢迎添加）</p>
            <table class="w-full text-sm border border-muted rounded-lg overflow-hidden border-collapse">
            <tbody>
              <tr class="odd:bg-muted/10 even:bg-background dark:odd:bg-muted/20 dark:even:bg-background">
              <td class="py-2 px-4 font-semibold bg-muted/20 dark:bg-muted/30 text-primary">站点名称</td>
              <td class="py-2 px-4 text-foreground">RefactX Project</td>
              </tr>
              <tr class="odd:bg-muted/10 even:bg-background dark:odd:bg-muted/20 dark:even:bg-background">
              <td class="py-2 px-4 font-semibold bg-muted/20 dark:bg-muted/30 text-primary">站点作者</td>
              <td class="py-2 px-4 text-foreground">Refactored</td>
              </tr>
              <tr class="odd:bg-muted/10 even:bg-background dark:odd:bg-muted/20 dark:even:bg-background">
              <td class="py-2 px-4 font-semibold bg-muted/20 dark:bg-muted/30 text-primary">站点链接</td>
              <td class="py-2 px-4">
                <a href="https://www.refact.cc/" target="_blank" class="text-primary underline hover:text-primary/80 transition-colors">
                https://www.refact.cc/
                </a>
              </td>
              </tr>
              <tr class="odd:bg-muted/10 even:bg-background dark:odd:bg-muted/20 dark:even:bg-background">
              <td class="py-2 px-4 font-semibold bg-muted/20 dark:bg-muted/30 text-primary">描述</td>
              <td class="py-2 px-4 text-muted-foreground">形体是简单而纯粹的，它不是完整的群体，每个形体都指向其复杂性，并最终被复杂性联系在一起。</td>
              </tr>
              <tr class="odd:bg-muted/10 even:bg-background dark:odd:bg-muted/20 dark:even:bg-background">
              <td class="py-2 px-4 font-semibold bg-muted/20 dark:bg-muted/30 text-primary">头像图片链接</td>
              <td class="py-2 px-4">
                <a href="/avatar.png" target="_blank" class="text-primary underline hover:text-primary/80 transition-colors">
                https://www.refact.cc/avatar.png
                </a>
              </td>
              </tr>
            </tbody>
            </table>
        </div>
    </div>
  </div>
  <!-- 评论区 -->
  <div class="px-4 sm:px-6 pb-8 mt-8">
    <Comments />
  </div>
</Layout>
